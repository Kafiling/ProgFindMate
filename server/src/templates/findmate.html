
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dormee! üè¢</title>
  <link rel="stylesheet" type="text/css" href="/static/tailwindoutput.css">
  <link rel="stylesheet" type="text/css" href="tailwindoutput.css">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.0.0/flowbite.min.css" rel="stylesheet" />
</head>
<body class="w-screen min-h-screen bg-softWhite md:px-[20%] ">
  <div class="min-h-screen flex flex-col place-items-center place-content-between ">
    <!-- Header (Dorm Location)--> 
   
    
    <!-- content -->
    <section id="" class="flex flex-grow relative w-full">
        <div class="w-full md:px-[20%] ">
            <div class="demo__content">
              <div class="demo__card-cont">
                <div class="demo__card">
                  <div class="demo__card__top blue">
                    <img src="{{mate2.userImg}}" class="w-full h-full object-cover">
                  </div>
                  <div class="demo__card__btm">
                    <div class="flex flex-row px-2 justify-between">

                      <ul class="flex flex-col space-y-4 text-left ">
                        <li class="flex items-center space-x-3">
                            <h2 class="text-xl font-bold">{{mate2.userData['displayName']}}  <span class="text-sm font-medium text-gray-500">{{mate2.userData['userAge']}}</span></h2>
                        </li>
                        <li class="flex items-center space-x-3">
                            <svg class="flex-shrink-0 w-3.5 h-3.5 text-green-500 " aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 12">
                                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 5.917 5.724 10.5 15 1.5"/>
                             </svg>
                            <span>{{mate2.userData['faculty']}}</span>
                        </li>
                        <li class="flex items-center space-x-3">
                            <svg class="flex-shrink-0 w-3.5 h-3.5 text-green-500 " aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 12">
                                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 5.917 5.724 10.5 15 1.5"/>
                             </svg>
                            <span>{{mate2.userData['university']}}</span>
                        </li>
                        
                    </ul>
                    
                    <ul class="flex flex-col space-y-4 items-end  ">
                      <li class="flex items-center space-x-3">
                          <h2 class="text-base text-green-500">{{mate2MatchPercent}}% Match!</h2>
                      </li>
                      <li class="flex items-center space-x-3">
                          <span>‡∏õ‡∏µ {{mate2.userData['acedemicYear']}}</span>
                      </li>
                      <li class="flex items-center space-x-3">
                          <span class="text-blue-600">(‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î)</span>
                      </li>
                      
                  </ul>
                    </div>
                  </div>
                  <div class="demo__card__choice m--reject"></div>
                  <div class="demo__card__choice m--like"></div>
                  <div class="demo__card__drag"></div>
                </div>
                
                <div class="demo__card">
                  <div class="demo__card__top blue">
                    <img src="{{mate1.userImg}}" class="w-full h-full object-cover">
                  </div>
                  <div class="demo__card__btm">
                    <div class="flex flex-row px-2 justify-between">

                      <ul class="flex flex-col space-y-4 text-left ">
                        <li class="flex items-center space-x-3">
                            <h2 class="text-xl font-bold">{{mate1.userData['displayName']}}  <span class="text-sm font-medium text-gray-500">{{mate1.userData['userAge']}}</span></h2>
                        </li>
                        <li class="flex items-center space-x-3">
                            <svg class="flex-shrink-0 w-3.5 h-3.5 text-green-500 " aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 12">
                                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 5.917 5.724 10.5 15 1.5"/>
                             </svg>
                            <span>{{mate1.userData['faculty']}}</span>
                        </li>
                        <li class="flex items-center space-x-3">
                            <svg class="flex-shrink-0 w-3.5 h-3.5 text-green-500 " aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 12">
                                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 5.917 5.724 10.5 15 1.5"/>
                             </svg>
                            <span>{{mate1.userData['university']}}</span>
                        </li>
                        
                    </ul>
                    
                    <ul class="flex flex-col space-y-4 items-end  ">
                      <li class="flex items-center space-x-3">
                          <h2 class="text-base text-green-500">{{mate1MatchPercent}}% Match!</h2>
                      </li>
                      <li class="flex items-center space-x-3">
                          <span>‡∏õ‡∏µ {{mate1.userData['acedemicYear']}}</span>
                      </li>
                      <li class="flex items-center space-x-3">
                          <a class="z-50" href="userdata?mateEmail={{mate1.userEmail}}" id="userdataLink"><span class="text-blue-600">(‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î)</span></a>
                      </li>
                      
                  </ul>
                    </div>
                  </div>
                  <div id="mateIgnored" class="demo__card__choice m--reject"></div>
                  <div id="mateInterseted" class="demo__card__choice m--like"></div>
                  <div class="demo__card__drag"></div>
                </div>
                
              </div>
            </div>
          </div>
    </section>
    <!-- navbar -->
    <section class="grid h-[10vh] w-full grid-cols-3 mx-auto font-medium bg-primary">
      
        <button type="button" class="inline-flex flex-col items-center justify-center px-5 hover:bg-[#FFD1E2] group py-2 transition ease-in-out delay-150">
          <a href="/matched" class="inline-flex flex-col items-center justify-center w-full h-full">
            <svg class=" w-5 h-5 mb-2 text-softWhite  group-hover:text-blue-600 transition ease-in-out delay-150" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
                <path d="m19.707 9.293-2-2-7-7a1 1 0 0 0-1.414 0l-7 7-2 2a1 1 0 0 0 1.414 1.414L2 10.414V18a2 2 0 0 0 2 2h3a1 1 0 0 0 1-1v-4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v4a1 1 0 0 0 1 1h3a2 2 0 0 0 2-2v-7.586l.293.293a1 1 0 0 0 1.414-1.414Z"/>
            </svg>
            <span class="text-sm text-softWhite  group-hover:text-blue-600 transition ease-in-out delay-150">Matched</span>
          </a>
          </button>
      
        <button type="button" class="inline-flex flex-col items-center justify-center px-5 hover:bg-[#FFD1E2] group py-2 transition ease-in-out delay-150">
          <a href="/findmate" class="inline-flex flex-col items-center justify-center w-full h-full">
            <svg class="w-5 h-5 mb-2 text-softWhite  group-hover:text-blue-600 transition ease-in-out delay-150" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
                <path d="M11.074 4 8.442.408A.95.95 0 0 0 7.014.254L2.926 4h8.148ZM9 13v-1a4 4 0 0 1 4-4h6V6a1 1 0 0 0-1-1H1a1 1 0 0 0-1 1v13a1 1 0 0 0 1 1h17a1 1 0 0 0 1-1v-2h-6a4 4 0 0 1-4-4Z"/>
                <path d="M19 10h-6a2 2 0 0 0-2 2v1a2 2 0 0 0 2 2h6a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1Zm-4.5 3.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2ZM12.62 4h2.78L12.539.41a1.086 1.086 0 1 0-1.7 1.352L12.62 4Z"/>
            </svg>
            <span class="text-sm text-softWhite  group-hover:text-blue-600 transition ease-in-out delay-150">Find Mate</span>
          </a>
        </button>
        
        <button type="button" class="inline-flex flex-col items-center justify-center px-5 hover:bg-[#FFD1E2]  group py-2 transition ease-in-out delay-150">
          <a href="/profile" class="inline-flex flex-col items-center justify-center w-full h-full">
            <svg class="w-5 h-5 mb-2 text-softWhite  group-hover:text-blue-600 transition ease-in-out delay-150" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12.25V1m0 11.25a2.25 2.25 0 0 0 0 4.5m0-4.5a2.25 2.25 0 0 1 0 4.5M4 19v-2.25m6-13.5V1m0 2.25a2.25 2.25 0 0 0 0 4.5m0-4.5a2.25 2.25 0 0 1 0 4.5M10 19V7.75m6 4.5V1m0 11.25a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5ZM16 19v-2"/>
            </svg>
            <span class="text-sm text-softWhite  group-hover:text-blue-600 transition ease-in-out delay-150">Profile</span>
          </a>
          </button>
      
    </section>
    <form class="hidden" method="post" enctype="multipart/form-data" id="form">
      <input type="hidden" name="mateStatus" id="mateStatus">
    </form>
  </div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.0.0/flowbite.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/hammer.js/2.0.8/hammer.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <script>
   $(document).ready(function() {

    var animating = false;
    var cardsCounter = 0;
    var numOfCards = 2;
    var decisionVal = 80;
    var pullDeltaX = 0;
    var deg = 0;
    var $card, $cardReject, $cardLike;

    function pullChange() {
    animating = true;
    deg = pullDeltaX / 10;
    $card.css("transform", "translateX("+ pullDeltaX +"px) rotate("+ deg +"deg)");

    var opacity = pullDeltaX / 100;
    var rejectOpacity = (opacity >= 0) ? 0 : Math.abs(opacity);
    var likeOpacity = (opacity <= 0) ? 0 : opacity;
    $cardReject.css("opacity", rejectOpacity);
    $cardLike.css("opacity", likeOpacity);
    document.getElementById("userdataLink").style.zIndex = "0"
    };

    function release() {

    if (pullDeltaX >= decisionVal) {
        $card.addClass("to-right");
        document.getElementById('mateStatus').value = 'Interseted'
        document.getElementById("form").submit();
    } else if (pullDeltaX <= -decisionVal) {
        $card.addClass("to-left");
        document.getElementById('mateStatus').value = 'Ignored'
        document.getElementById("form").submit();
    }

    if (Math.abs(pullDeltaX) >= decisionVal) {
        $card.addClass("inactive");
        
        setTimeout(function() {
        $card.addClass("below").removeClass("inactive to-left to-right");
        cardsCounter++;
        if (cardsCounter === numOfCards) {
            cardsCounter = 0;
            $(".demo__card").removeClass("below");
        }
        }, 300);
    }

    if (Math.abs(pullDeltaX) < decisionVal) {
        $card.addClass("reset");
        document.getElementById("userdataLink").style.zIndex = "50"
    }

    setTimeout(function() {
        $card.attr("style", "").removeClass("reset")
        .find(".demo__card__choice").attr("style", "");

        pullDeltaX = 0;
        animating = false;
    }, 300);
    };

    $(document).on("mousedown touchstart", ".demo__card:not(.inactive)", function(e) {
    if (animating) return;

    $card = $(this);
    $cardReject = $(".demo__card__choice.m--reject", $card);
    $cardLike = $(".demo__card__choice.m--like", $card);
    var startX =  e.pageX || e.originalEvent.touches[0].pageX;

    $(document).on("mousemove touchmove", function(e) {
        var x = e.pageX || e.originalEvent.touches[0].pageX;
        pullDeltaX = (x - startX);
        if (!pullDeltaX) return;
        pullChange();
    });

    $(document).on("mouseup touchend", function() {
        $(document).off("mousemove touchmove mouseup touchend");
        if (!pullDeltaX) return; // prevents from rapid click events
        release();
    });
    });

    });
  </script>
</body>
</html>